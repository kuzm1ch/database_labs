## Лабораторна робота №1
### Знайомство із MongoDB

#### Мета:  знайомство із сховищем даних MongoDB, області використання та базових операції в командній строці з допомого mongo(cli). Огляд основних складових: колекції, документи, поля, індекси, курсори.


Перед початком рабораторної роботи слід опррацювати/скачати книгу[“The Little MongoDB Book“ , Karl Seguin](https://www.pvsm.ru/download/mongodb-ru.pdf). В ній є буде необхідна інформації, яка допоможе при виконанні лабораторної роботи.

### Вступ
MongoDB — документо-орієнтована система керування базами даних (СКБД) з відкритим вихідним кодом, яка не потребує опису схеми таблиць. MongoDB займає нішу між швидкими і масштабованими системами, що оперують даними у форматі ключ/значення, і реляційними СКБД, функціональними і зручними у формуванні запитів. Код MongoDB написаний на мові C++ і поширюється в рамках ліцензії AGPLv3. 
MongoDB підтримує зберігання документів в JSON-подібному форматі, має досить гнучку мову для формування запитів, може створювати індекси для різних збережених атрибутів, ефективно забезпечує зберігання великих бінарних об'єктів, підтримує журналювання операцій зі зміни і додавання даних в БД. 

Для початку потрібно зрозуміти шість основних концепцій.
1. MongoDB - концептуально те ж саме, що звичайна, звична нам база даних (або в термінології Oracle - схема).
2. Усередині MongoDB може бути нуль або більше баз даних, кожна з яких є контейнером для інших сутностей.
3. База даних може мати нуль або більше «колекцій». Колекція настільки схожа на традиційну «таблицю», що можна сміливо вважати їх одним і тим же.
4. Колекції складаються з нуля або більше «документів». Знову ж, документ можна розглядати як «рядок».
Документ складається з одного або більше «полів», які - як можна здогадатися - подібні «колонкам».
5. «Індекси» в MongoDB майже ідентичні таким в реляційних базах даних.
6. «Курсор» відрізняються від попередніх п'яти концепцій, але вони дуже важливі (хоча часом їх обходять увагою) і заслуговують окремого обговорення. Важливо розуміти, що коли ми запитуємо у MongoDB будь-які дані, то вона повертає курсор, з якими ми можемо робити все що завгодно - підраховувати, пропускати певну кількість попередніх записів - при цьому не завантажуючи самі дані.


### Хід Роботи

#### 1. Встановллення

##### Windows:
https://metanit.com/nosql/mongodb/1.2.php  (простий мануал)
https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/ (офіційна документація)

##### Linux:
Використовуючи пакетний менеджер вашої системи:
https://docs.mongodb.com/manual/administration/install-on-linux/  (офіційна документація)

##### Docker(незалежно від OS):
docker run -p 27017:27107  mongo:latest ( запустити mongoDB server)  
doker exec -it <container_name/container_id> mongo (підключитись до MongoDB серверу з допомогою cli mongo)

#### 2. Ознайомлення із базовими командами.

Запустіть сервер mongod і консоль mongo, якщо ще не запустили. Консоль працює на JavaScript. Є кілька глобальних команд, наприклад help або exit. Команди, які ви запускаєте стосовно поточної базі даних виконуються у об'єкта db, наприклад `db.help()` або `db.stats()`. Команди, які ви запускаєте стосовно конкретної колекції, виконуються у об'єкта db.ІМЯ_КОЛЛЕКЦІІ, наприклад `db.unicorns.help()` або `db.unicorns.count()`.

`db.help()` - список команд, які можна виконати в об'єкта

Спершу для вибору бази даних скористаємося глобальним методом use - введіть `use learn`. Неважливо, що база даних поки що не існує. У момент створення першої колекції створюється база даних learn. Тепер, коли ви всередині бази даних, можна
викликати у неї команди, наприклад `db.getCollectionNames()`. У відповідь побачите порожній масив ([]). Оскільки колекції безструктурні (в оригіналі `` schema-less ''. Тут і далі - прим. перекл.), ми не зобов'язані створювати їх явно. Ми просто можемо вставити документ в нову колекцію. Щоб це зробити, використовуйте команду insert, передавши
їй вставляється документ:

`db.unicorns.insert({name: 'Aurora', gender: 'f', weight: 450})`

Цей рядок виконує метод insert («вставити») в колекцію unicorns, передаючи йому єдиний аргумент. MongoDB у себе всередині використовує бінарний серіалізірованний JSON формат. Зовні це означає, що ми широко використовуємо JSON, як, наприклад, у випадку з нашими параметрами.  

Вивести список всіх колекцій в базі даних learn:
`db.getCollectionNames()`

Повернути список документів в колеції unicorns:
`db.unicorns.find()`

Видалити колекцію unicorns:
`db.unicorns.remove()`

#### Завдання 1:

1. Створити колекцію студенти(від 5 студентів) із такими полями:

```
db.students.insert({name: 'Anna', dob: new Date(1992,2,13,7,47), loves: ['football','databases'], weight: 140, gender: 'female', course: 2, avg_mark: 77});
```

* Кожний документ повинен мати хоча б одне унікальне поле( наприклад поле alergia: apple буде тільки в одного студента
* Один із студентів повинен мати ваше Прізвище та містити поле із номером в групі.

#### Завдання 2:
Тепер, коли дані створені, можна приступати до освоєння селекторів. {Поле: значення} використовується для пошуку всіх документів, у яких поле дорівнює значення. {Поле1: значення1, поле2: значення2} працює як логічне І. Спеціальні оператори $ lt, $ lte, $ gt, $ gte і $ ne використовуються для вираження операцій «менше», «менше або дорівнює», «більше», «більше або дорівнює », і« не дорівнює ». Наприклад, щоб отримати всіх студентів, що важать більше або рівно 140  фунтів, ми можемо написати:

`db.students.find({weight: {$gte: 140}})`

1. Написати селектор, який виведе список студентів 2-го курсу, які люблять футбол.
2. Написати селектор, який виведе список студентів жіночої статі, які люблять або футбол або бази даних або середня оцінка вище (2 * Ваш номер в групі).
3. Вивести к-сть студентів в групі 3-го курсу (db.students.count)
4. Видалити студентів, в який існує поле алергія($exists).

Поміж операторів, які були використані,існує гнучкий оператор - $where, що дозволяє нам передавати JavaScript для його виконання на сервері. Це описано в розділі Складні запити на [сайті MongoDB](https://docs.mongodb.com/manual/reference/operator/query/where/).  
Отже, було розглянуто основи, які нам потрібні для початку роботи. Це також те, що ви можливо будете використовувати більшу частину часу.

##### Вимоги до оформлення
Звіт лабораторної роботи повинен містити текстову частину завдання і скріншоти із командами та відповідним виводом. В кінці звіту обов'язково повинен бути висновок.
