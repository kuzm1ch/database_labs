## Лабораторна робота №2
### Знайомство із Redis

#### Мета:  Продовження роботи із типами даних в сховищі Redis: списки, множини, впорядковані множини. Адміністрування Redis(TTL, налаштовуння паролю).

Виконання цієї лабораторної роботи підрозуміває, що Redis встановлений при виконанні попередньої лабораторної та книга опрацьована/прочитана [“The Little Redis Book” Karl Seguin](https://github.com/akandratovich/the-little-redis-book/tree/master/ru)

### Хід Роботи

#### 1.1 Списки (lists)
Cписки дозволяють зберігати та маніпулювати масивами значень для заданого ключа. Можна добавляти значення в список, отримувати перше і останнє значення із списку і маніпулювати значення із заданими індексами. Списки зберігають порядок своїх значень і мають ефективні операції із використанням індексів.
##### Завдання:
1. Створити список який описує будь яку послідовність дій від 5 дій. Ключ - ваше прізвище.
В моєму випадку це дії користувача на сайті.
```
lpush user:123 open:page1 open:page2 order:ticket order:ticket2 buy:all
```
2. Вивести всі значення у вашому списку(lrange).
3. Скоротити список до 3(останніх, тобто самих актуальних) елементів(ltrim) однією командою.

#### 1.2 Множини(Sets)

Множини використовуються для зберігання унікальних значень і представляють набір операцій - таких, як об’єднання. Множини не впорядковані, але представляють ефективні операції із значеннями. Список друзів являється класичним прикладом множин:
```
sadd friends:leto ghanima paul chani jessica
sadd friends:duncan paul jessica alia
```
Незалежно від того, скільки друзів має користувач, ми можемо ефективно (O(1)) визначити, чи є користувач userX і userY друзями чи ні.
```
sismember friends:leto jessica
sismember friends:leto vladimir
```
##### Завдання:
1. Створити множину предметів першого і друго семестру(від 5).
```
sadd subject:1 subjectX ...
sadd subject:2 subjectY ...
```
2. Взяти будь який предмет із списку і перевірити, чи є він у множині першого і другого семестру.
3. Перевірити чи є предмети, які спільні для першого і друго семестру і зберегти їх під іншим ключем(sinterstore).


Впорядковані множини (Sorted Sets)
Останній і самий потужний тип являються впорядковані множини. Хеши схожі на строки, але мають поля, а впорядковані множини схожі на множини, але мають лічильники. Лічильники надають можливість впорядковувати і ранжирувати. Якщо ми хочемо отримати список друзів, ми можемо зробити наступне:
```
zadd friends:leto 100 ghanima 95 paul 95 chani 75 jessica 1 vladimir
```
Створити впорядкований список предметів за перший семестр з їх оцінками(від 5 елементів).
Завдання:
Дізнатись кількість предметів, в яких оцінка більше 70.
Вивести порядковий рейтинг одного із предметів відносно інших(zrevrank).


##### 2.1 TTL

Redis дозволяє назначати ключам час існування(TTL). Ви можете використовувати абсолютні значення в часі в форматі Unix(Unix timestamp https://www.unixtimestamp.com/ ), або час, який залишився ключу існувати.
```
expire pages:about 30
expireat pages:about 1600473600
```
Перша команда видалить ключ через 30 секунд. Друга це зробить в 00:00, 19 вересня 2020 року. 
Це робить Redis ідеальною базою для кешування. Ви можете дізнатись, скільки ще буде існувати даний елемент з допомогою команди ttl, а також видалити срок існування з допомого команди persist.
##### Завдання:
1. Створити ключ,  який буде видаллений  3*(ваш номер в списку) в секундах.
2. Створити ключ, який буде видалений в день вашого народження в 2022 році.
3. Дізнатись скільки оба ключі будуть існувати.

##### 2.2 Адміністрування Redis.
Redis можно налаштувати так, щоб він вимагав пароль. За це відповідає спеціальна опція конфігурація requirepass (встановлюється через redis.conf або  командой config set). Коли опція requirepass встановлюється в будь-яке значення(пароль), клієнт повинен виконати авторизацію auth password при з’єднанні із сервером. Як тільки клієнт пройде авторизацію він може виконати будь яку команду в будь якій базі. В тому числі flushall, яка видаляє всі ключі із всіх баз. 

##### Завдання:
1. Потрібно налаштувати авторизацію(CONFIG SET requirepass "mypass")  на ваш сервер. Логін повинен містити ваше ім”я та прізвище.
2. Перейменувати команду flushall(rename-command CONFIG)  для забезпечення певного рівня захисту, перейменована команда flushall повинні містити в собі ваш номер в списку групи та прізвище.
